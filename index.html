<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathMaster - –¢—Ä–µ–Ω–∞–∂—ë—Ä –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>
    <div class="background-container"></div>
    
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MathMaster!</h2>
            <div class="auth-form">
                <input type="text" id="username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="auth-input">
                <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" class="auth-input">
                <button id="loginBtn" class="auth-btn">–í–æ–π—Ç–∏</button>
                <button id="registerBtn" class="auth-btn secondary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <p class="auth-message" id="authMessage"></p>
            </div>
        </div>
    </div>

    <div class="container" id="mainContainer" style="display: none;">
        <header class="header">
            <div class="user-info">
                <span id="usernameDisplay"></span>
                <div class="coins-hints">
                    <span class="coins">ü™ô <span id="coinsCount">0</span></span>
                    <span class="hints">üí° <span id="hintsCount">0</span></span>
                </div>
            </div>
            <button class="btn shop-btn" id="shopBtn">–ú–∞–≥–∞–∑–∏–Ω</button>
            <button class="btn logout-btn" id="logoutBtn">–í—ã–π—Ç–∏</button>
        </header>

        <main class="main-content">
            <div class="level-selector" id="levelSelector">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</h2>
                <div class="levels">
                    <button class="level-btn" data-level="1">–ù–æ–≤–∏—á–æ–∫ (+, -)</button>
                    <button class="level-btn" data-level="2">–£—á–µ–Ω–∏–∫ (√ó, √∑)</button>
                    <button class="level-btn" data-level="3">–ú–∞—Å—Ç–µ—Ä (—Å—Ç–µ–ø–µ–Ω–∏)</button>
                    <button class="level-btn" data-level="4">–ì—É—Ä—É (–∫–æ—Ä–Ω–∏, –º–æ–¥—É–ª–∏)</button>
                    <button class="level-btn" data-level="5">–õ–µ–≥–µ–Ω–¥–∞ (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)</button>
                </div>
            </div>

            <div class="game-container" id="gameContainer" style="display: none;">
                <div class="game-header">
                    <h2 id="levelTitle">–£—Ä–æ–≤–µ–Ω—å 1: –ù–æ–≤–∏—á–æ–∫</h2>
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar"></div>
                        <span class="progress-text" id="progressText">0/10</span>
                    </div>
                </div>

                <div class="problem-container">
                    <div class="problem" id="problem"></div>
                    <input type="text" id="answer" class="answer-input" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç...">
                    <button class="btn submit-btn" id="submitBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    <button class="btn hint-btn" id="hintBtn">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É (üí°)</button>
                </div>

                <div class="result-message" id="resultMessage"></div>
            </div>

            <div class="level-complete" id="levelComplete" style="display: none;">
                <h2>–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω! üéâ</h2>
                <p>–í—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ <span id="earnedCoins">0</span> ü™ô</p>
                <div class="complete-buttons">
                    <button class="btn next-level-btn" id="nextLevelBtn">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
                    <button class="btn return-btn" id="returnBtn">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É —É—Ä–æ–≤–Ω—è</button>
                </div>
            </div>
        </main>

        <div class="shop-overlay" id="shopOverlay">
            <div class="shop-container">
                <div class="shop-header">
                    <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
                    <button class="close-shop" id="closeShopBtn">√ó</button>
                </div>
                <div class="shop-tabs">
                    <button class="shop-tab active" data-tab="items">–ü—Ä–µ–¥–º–µ—Ç—ã</button>
                    <button class="shop-tab" data-tab="backgrounds">–§–æ–Ω—ã</button>
                    <button class="shop-tab" data-tab="fonts">–®—Ä–∏—Ñ—Ç—ã</button>
                    <button class="shop-tab" data-tab="promo">–ü—Ä–æ–º–æ–∫–æ–¥</button>
                </div>
                
                <div class="shop-content" id="itemsTab">
                    <div class="shop-item">
                        <h3>–ü–æ–¥—Å–∫–∞–∑–∫–∞</h3>
                        <p>–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</p>
                        <div class="item-footer">
                            <span class="item-price">25 ü™ô</span>
                            <button class="btn buy-btn" data-item="hint">–ö—É–ø–∏—Ç—å</button>
                        </div>
                    </div>
                    <div class="shop-item">
                        <h3>–§–µ–π–µ—Ä–≤–µ—Ä–∫</h3>
                        <p>–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è</p>
                        <div class="item-footer">
                            <span class="item-price">15 ü™ô</span>
                            <button class="btn buy-btn" data-item="firework">–ö—É–ø–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                
                <div class="shop-content" id="backgroundsTab" style="display: none;">
                    <div class="grid-container" id="backgroundsGrid">
                        <!-- Backgrounds will be loaded here -->
                    </div>
                </div>
                
                <div class="shop-content" id="fontsTab" style="display: none;">
                    <div class="grid-container" id="fontsGrid">
                        <!-- Fonts will be loaded here -->
                    </div>
                </div>
                
                <div class="shop-content" id="promoTab" style="display: none;">
                    <div class="promo-container">
                        <input type="text" id="promoCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
                        <button class="btn" id="applyPromoBtn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        <p id="promoMessage"></p>
                        <div class="promo-hints">
                            <h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã:</h3>
                            <ul>
                                <li><strong>777</strong> - 777 –º–æ–Ω–µ—Ç</li>
                                <li><strong>noob</strong> - 10 –ø–æ–¥—Å–∫–∞–∑–æ–∫</li>
                                <li><strong>mathgenius</strong> - 5 —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–æ–≤</li>
                                <li><strong>background</strong> - 3 —Å–ª—É—á–∞–π–Ω—ã—Ö —Ñ–æ–Ω–∞</li>
                                <li><strong>font</strong> - 3 —Å–ª—É—á–∞–π–Ω—ã—Ö —à—Ä–∏—Ñ—Ç–∞</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="inventory">
                    <h3>–í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div class="inventory-items">
                        <div>
                            <h4>–ü–æ–¥—Å–∫–∞–∑–∫–∏: <span id="invHints">0</span></h4>
                            <h4>–§–µ–π–µ—Ä–≤–µ—Ä–∫–∏: <span id="invFireworks">0</span></h4>
                        </div>
                        <div>
                            <h4>–§–æ–Ω—ã: <span id="invBackgrounds">0</span></h4>
                            <h4>–®—Ä–∏—Ñ—Ç—ã: <span id="invFonts">0</span></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="fireworksContainer" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;"></div>

    <script src="auth.js"></script>
    <script src="shop.js"></script>
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
</body>
</html>
